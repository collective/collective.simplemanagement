<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="collective.simplemanagement">
<body>

<metal:content-core fill-slot="main">
  <div id="booking-view">

    <h1>Booking listing</h1>

     <div id="all-bookings"
         tal:define="all_bookings       context/bookings;
                     total              python: len(all_bookings);
                     Batch              python: modules['Products.CMFPlone'].Batch;
                     b_size             python:20;
                     b_start            python:0;
                     b_start            request/b_start | b_start;
                     batch              python: Batch(all_bookings or [], b_size, int(b_start), orphan=1);">
      <p>Found <span tal:replace="total"/> bookings.</p>
      <ul tal:condition="all_bookings">

        <li tal:repeat="booking batch">
          <tal:def define="helpers booking/@@helpers;
                           info helpers/info">

            <tal:text replace="structure info/text" />
            <a tal:attributes="href info/url">
              view
            </a>|
            <a tal:attributes="href info/edit_url">
              edit
            </a>

          </tal:def>
        </li>
      </ul>

      <div metal:use-macro="here/batch_macros/macros/navigation" />
    </div>

  </div>


</metal:content-core>

</body>
</html>
